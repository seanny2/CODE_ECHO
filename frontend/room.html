<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Room</title>
  <link rel="stylesheet" href="./src/room.css">
  <script src="https://kit.fontawesome.com/2223c0d7cd.js" crossorigin="anonymous"></script>
</head>

<body>
  <div id="main">
    <!-- IDE -->
    <div>
      <div id="editor"></div>

      <div id="systemOut" class="toggle_conatiner">
        <div class="toggle_form">
          <div class="header">
            컴파일 결과
          </div>
          <div id="compile_info" class="toggle_content">
            <div id="output">실행 결과가 여기에 표시됩니다.</div>
            <div id="compile_meta">
              <div>결과: <span id="result"></span></div>
              <div>경과시간: <span id="performance"></span> m/s</div>
            </div>
          </div>
        </div>
      </div>

      <!-- 채팅창 -->
      <div id="chatting" class="toggle_conatiner inactive">
        <div class="toggle_form">
          <div class="header">
            회의 중 메시지
          </div>
          <div class="toggle_content">
            <ul id="messages">
              <!-- 동적으로 생성될 메시지 목록 -->
            </ul>
          </div>
          <div class="input-div">
            <input type="text" id="message" placeholder="메시지를 입력하세요">
            <button id="sendBtn">전송</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="footer">
    <!-- room 정보 -->
    <div id="roomInfo">
      <div id="network-status">1</div>
      <div id="roomId" th:text="${roomId}">123123123123123</div>
      <div id="peers"></div>
    </div>
    <div id="serviceList">
      <div id="compile"><i class="fa-solid fa-play"></i></div>
      <div id="messageToggle"><i class="fa-solid fa-comments"></i></div>
    </div>
  </div>

  <script type="module" src="/src/main.ts"></script>
  <script>
    const chatBtn = document.getElementById('messageToggle');
    const chatting = document.getElementById('chatting');
    const print = document.getElementById('systemOut');

    chatBtn.addEventListener('click', () => {
      if (chatting.classList.contains('inactive')) {
        chatting.classList.remove('inactive');
        print.classList.add('inactive');
      } else {
        chatting.classList.add('inactive');
        print.classList.remove('inactive');
      }
    });
  </script>
</body>

</html>